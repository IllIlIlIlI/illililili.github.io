<!DOCTYPE html>
<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8">
    
    <link rel="preload" href="https://honeytrap.io/files/muli-latin-200.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://honeytrap.io/files/muli-latin-400.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://honeytrap.io/files/muli-latin-800.woff2" as="font" type="font/woff2" crossorigin>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     
    <title>In Real Life: simulate a web server | HoneyTrap</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">

    <meta name="viewport" content="width=device-width,minimum-scale=1">
     <meta name="generator" content="Hugo 0.46" />

      
        <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
      

    <link href='/dist/main.css' rel='stylesheet' type="text/css" /><meta property="og:title" content="In Real Life: simulate a web server" />
<meta property="og:description" content="Simulate a device on your network.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://honeytrap.io/news/irl-simulate-web-server/" />



<meta property="article:published_time" content="2018-10-10T10:36:00&#43;02:00"/>

<meta property="article:modified_time" content="2018-10-31T14:36:22&#43;01:00"/>











<meta itemprop="name" content="In Real Life: simulate a web server">
<meta itemprop="description" content="Simulate a device on your network.
">


<meta itemprop="datePublished" content="2018-10-10T10:36:00&#43;02:00" />
<meta itemprop="dateModified" content="2018-10-10T10:36:00&#43;02:00" />
<meta itemprop="wordCount" content="349">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="In Real Life: simulate a web server"/>
<meta name="twitter:description" content="Simulate a device on your network.
"/>





  </head>
  <body class="ma0 sans-serif bg-primary-color-light">
    
<nav class="bg-primary-color-dark pv4 w-100" role="navigation">

  <div class="center flex-ns flex-wrap items-center justify-start mw9">

      <h1 class="dim f3 lh-solid ml0-ns mr0 mr4-l mv0 pl3 pl4-ns">
          <img alt="" src="img/logo.png" height="42" width="62" />
      <a href="https://honeytrap.io/" class="link white">
         HONEYTRAP
      </a>
    </h1>
    <ul class="list ma0 pa0 dn dib-l">
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="/news/" class="dim link light-silver">
            News
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="/documentation/" class="dim link light-silver">
            Docs
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="/contribute/" class="dim link light-silver">
            Community
              
            
            
          </a>
        </li>
      
        <li class="f5 dib mr4" role="menuitem">
            
          <a href="https://github.com/honeytrap/honeytrap" class="dim link light-silver">
            GitHub
              
            
            
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32" class="fill-current v-base" aria-label="External Link">
<path d="M25.152 16.576v5.696q0 2.144-1.504 3.648t-3.648 1.504h-14.848q-2.144 0-3.648-1.504t-1.504-3.648v-14.848q0-2.112 1.504-3.616t3.648-1.536h12.576q0.224 0 0.384 0.16t0.16 0.416v1.152q0 0.256-0.16 0.416t-0.384 0.16h-12.576q-1.184 0-2.016 0.832t-0.864 2.016v14.848q0 1.184 0.864 2.016t2.016 0.864h14.848q1.184 0 2.016-0.864t0.832-2.016v-5.696q0-0.256 0.16-0.416t0.416-0.16h1.152q0.256 0 0.416 0.16t0.16 0.416zM32 1.152v9.12q0 0.48-0.352 0.8t-0.8 0.352-0.8-0.352l-3.136-3.136-11.648 11.648q-0.16 0.192-0.416 0.192t-0.384-0.192l-2.048-2.048q-0.192-0.16-0.192-0.384t0.192-0.416l11.648-11.648-3.136-3.136q-0.352-0.352-0.352-0.8t0.352-0.8 0.8-0.352h9.12q0.48 0 0.8 0.352t0.352 0.8z"></path>
</svg>

            
          </a>
        </li>
      
    </ul>

    <div class="db dib-ns pl3"><form id="site-search-form" action="" role="search">
  <fieldset class="bn ma0 pa0">
    <label class="clip" for="search-input">Search</label>
    <input type="search" id="search-input" class="needs-js bg-left bg-transparent bn f5 input-reset lh-solid mt3 mt0-ns pl4 pv2 w5 white" placeholder="Search the Docs" type="text" name="search-input" value="" style="background-image:url('/images/icon-search.png');background-size:16px 16px;">
  </fieldset>
</form>
</div>

  </div>
</nav>

    
    <main role="main" class="content-with-sidebar min-vh-100 pb7 pb0-ns">
      
  

  <article class="cf ph4 pv3 pv5-ns">
      
    <header class="flex-none w-100 pb3">
      
        
          <a href="/categories/underthehood" class="f6 fw8 mb0 link mid-gray dim mr3">
            UNDER THE HOOD
          </a>
        
      

      <h1 class="lh-title fw9 mb7 mv0 pt3">
        <a href="/news/irl-simulate-web-server/" class="link primary-color dim">
          In Real Life: simulate a web server
        </a>
      </h1>
    </header>

    <div class="flex-l">
      <aside class="mid-gray fn w-100 w-25-l">
        
          <h2 class="f3 lh-title">
            Simulate a device on your network.
          </h2>
        
        <time class="f6 mt2 db ttu tracked" datetime="2018-10-10T10:36:00&#43;02:00">
          October 10, 2018
        </time>
        
        

        <div class="nested-links mt4">

	<div date-pref>
		

		
			<a href="https://honeytrap.io/news/uth-socket-listener/" class="dib f6 pr1 hover-bg-light-gray br-100" title="Under The Hood: the Socket listener">
			<svg class="fill-current" height="30px" viewBox="0 0 24 24" width="30px" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>

			</a>
		
	</div>

</div>

      </aside>

      <div class="fn pl5-l pt3 mid-gray w-100 w-two-third-l sans-serif nested-copy-line-height no-underline nested-links nested-img nested-copy-seperator nested-blockquote measure-wide-l">
        
          
          
          
        

<p>One of the possibile use cases for HoneyTrap can be to simulate a device in your DMZ  to &ldquo;attract&rdquo; potentials hackers.
You could also simulate a device within another part of your network, for internals attacks.</p>

<p>In this scenario, we decided to simulate a web server in our DMZ. We actually did that on one of our domain,
you can find an<a href="/news/irl-simulate-web-server/"> article </a>about it in the news section.</p>

<hr />

<p>Ports opened on a web server usually are <code>tcp/80</code> (for HTTP) and <code>tcp/443</code> (for HTTPS).</p>

<p>Let&rsquo;s simulate a web server, <strong>powered by HoneyTrap</strong>, with <code>tcp/80</code> and <code>tcp/443</code> as usual. Besides these ports, we&rsquo;ll also open two more
ports: <code>tcp/21</code> (for ftp) and <code>tcp/23</code> (for telnet).</p>

<p>Why do we open these additional ports?</p>

<p>Our goal is to simulate the <em>most attractive</em> potential security hole/breach while also being the most <em>resembling</em> web server.</p>

<p>By <em>attractive</em>, we mean that we know these two ports, linked to two different protocols, have a lot of known exploits. By configuring our
web server on these ports, our device will seem far easier to hack than a &ldquo;genuine&rdquo; one.</p>

<p>By <em>resembling</em>, we mean that it will look very strange to potential attackers if they find the port <code>8545</code> opened, linked to an Ethereum
node. It won&rsquo;t look weird to find <code>tcp/21</code> and <code>tcp/23</code> opened.</p>

<p>Remember, we want our honeypot to look like an attractive target, so
attackers will penetrate the honeypot and no other devices on your network.</p>

<hr />

<h2 id="step-1-working-directory">Step 1: Working directory</h2>

<p>We&rsquo;ll assume you are already familiar with the setup of a HoneyTrap.
Otherwise, you need to do the <code>step 1</code> and <code>step 2</code> of<a href="/setup/installing-server/"> Install HoneyTrap Server</a>.</p>

<h2 id="step-2-our-web-server-config">Step 2: Our &ldquo;web server&rdquo; config</h2>

<h4 id="download-the-config">Download the config</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; wget https://raw.githubusercontent.com/honeytrap/honeytrap-configs/master/scenarios/simulate-device/config-web-server.toml</code></pre></div>
<ul>
<li>You need to change the IP address in the Elasticsearch channel to your own prefered IP address.</li>
<li>You can change the configurations of the<a href="/configuration/services/http/"> http service</a>, the<a href="/configuration/services/https/"> https service</a>, the<a href="/configuration/services/ftp/"> ftp service</a> and the<a href="/configuration/services/telnet/"> telnet service</a> in the config-web-server.toml .</li>
</ul>

<h4 id="download-the-docker-compose-file">Download the docker-compose file:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; wget https://raw.githubusercontent.com/honeytrap/honeytrap-configs/master/scenarios/simulate-devide/docker-compose-web-server.yml</code></pre></div>
<h2 id="step-3-start-honeytrap">Step 3: Start HoneyTrap</h2>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; docker-compose -f ./docker-compose-web-server.yml pull</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; docker-compose -f ./docker-compose-web-server.yml up</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; docker run --net<span class="o">=</span>host -v <span class="k">$(</span>PWD<span class="k">)</span>/config-web-server.toml:/config/config.toml honeytrap/honeytrap:latest</code></pre></div>
<p><br></p>

<blockquote>
<p>Your HoneyTrap Web Server is running!</p>
</blockquote>

      </div>
    </div>
    

      <div class="gray f6 mv6">
        Last Update: October 31, 2018 <br>
        <a href="https://github.com/honeytrap/honeytrap-docs/edit/master/content/en/news/irl-simulate-web-server.md" class="
f6 ph3 pv1 br2 dib  tc ttu mv3 bg-primary-color white hover-bg-green link
">Improve this page</a>

      </div>

  </article>


    </main>

    <footer class="bg-primary-color-dark ph4-ns pt4 relative w-100" role="contentinfo">
    <div class="center flex-ns flex-wrap justify-between mw9 w-40">
          <div class="center f7 gray mb5 mb0-ns ph3 w-100"> 
              
              <p class="dib mr4">
                  2018 The HoneyTrap Authors | Documentation Distributed under <a href="https://github.com/honeytrap/honeytrap-docs/blob/master/LICENSE" class="light-text">CC BY 4.0</a></p>

          </div>



</footer>

    <script src="/dist/app.bundle.js"></script>

<script async defer src="https://buttons.github.io/buttons.js"></script>


  </body>
</html>
